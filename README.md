# ZK-Battleship

A decentralized, trustless Battleship game powered by Zero-Knowledge proofs. This project uses Noir for creating ZK circuits and Solidity for the on-chain game logic and proof verification.

## How It Works

The game leverages UltraHonk to allow players to play Battleship without revealing their ship placements to their opponent or a central server. The entire game state and logic are managed by a smart contract on an Ethereum-like blockchain.

The core gameplay loop is as follows:
1.  **Board Setup**: Each player places their ships on a 6x6 grid locally. A commitment to the board's configuration and a zero-knowledge proof of a valid setup (e.g., correct ship sizes and no overlapping ships) is submitted to the smart contract.
2.  **Taking a Shot**: A player declares a coordinate they want to attack.
3.  **Proof Generation**: The opponent, using their private board state and the shot coordinate, generates a ZK proof that details the outcome of the shot (i.e., whether it was a 'hit' or a 'miss', and if a ship was sunk). This proof is generated without revealing any information about the ship placements.
4.  **On-Chain Verification**: The proof is submitted to the `ZKBattleship` smart contract. The contract's `Verifier` component validates the proof. If valid, the public game state is updated (e.g., marking a coordinate as a hit or miss).

This ensures fairness and prevents cheating, as players cannot move their ships mid-game, and every move's validity is cryptographically proven.

## Key Components

-   **`/circuits`**: Contains the Noir ZK circuits.
    -   `init_board`: A circuit to prove that a player's initial board configuration is valid.
    -   `process_shot`: A circuit to prove the result of a shot (hit or miss) based on the private board state and the public shot coordinate.

-   **`/contracts`**: Contains the Solidity smart contracts developed with Foundry.
    -   `ZKBattleship.sol`: The main smart contract that manages the game state, player turns, and interacts with the verifier.
    -   `Verifier.sol`: The contract that verifies the proofs generated by the Noir circuits. This is typically auto-generated from the compiled Noir circuits.

-   **`/js`**: Contains client-side scripts for interacting with the circuits and contracts.
    -   `prove.ts`: A TypeScript script to handle the generation of ZK proofs by interfacing with Nargo (the Noir compiler and proving system).

## Getting Started

### Prerequisites
-   [**Foundry / Forge**](https://github.com/foundry-rs/foundry): For Solidity smart contract development and testing.
-   [**Nargo**](https://noir-lang.org/docs/getting_started/installation/): The toolchain for Noir language (compiler, prover, etc.).
-   [**Node.js and npm**](https://nodejs.org/en/)

### Installation

1.  **Clone the repository:**
    ```bash
    git clone https://github.com/jayden-sudo/ZK-Battleship.git
    cd ZK-Battleship
    ```

2.  **Install dependencies:**
    ```bash
    npm install
    ```

### Build
`TODO`


### Testing
`TODO`

## License

This project is licensed under the [MIT License](./LICENSE).
